task copyModuleJSON(type: Copy) {
    from "module.json"
    into "build/staging"
}

task copyTerraform(type: Copy) {
    from "src"
    into "build/staging/"
}

task build(type: Zip) {
    dependsOn copyModuleJSON
    dependsOn copyTerraform
    archiveName "module.zip"
    destinationDir file("build/dist")
    from "build/staging"
    preserveFileTimestamps = false
    reproducibleFileOrder = true
}
